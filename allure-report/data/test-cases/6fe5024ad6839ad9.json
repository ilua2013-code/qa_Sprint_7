{"uid":"6fe5024ad6839ad9","name":"Авторизация без обязательных полей","fullName":"tests.test_login_courier.TestLoginCourier#test_invalid_create_cour","historyId":"14534a66421c8e32c2bac351a50d7358","time":{"start":1760438928937,"stop":1760438989834,"duration":60897},"description":"Тест проверяет авторизацию когда отсутствует логин или пароль","descriptionHtml":"<p>Тест проверяет авторизацию когда отсутствует логин или пароль</p>\n","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, но получили 504\nassert 504 == 400\n +  where 504 = <Response [504]>.status_code","statusTrace":"self = <test_login_courier.TestLoginCourier object at 0x000001D650D61D00>, login = 'valid_login', password = None\nauthorization_cour = <function authorization_cour.<locals>.aut_cour at 0x000001D651020540>, create_cour = <function create_cour.<locals>.cre_cour at 0x000001D651020720>\ndelete_cour = <function delete_cour.<locals>.del_cour at 0x000001D651020900>\n\n    @allure.title('Авторизация без обязательных полей')\n    @allure.description('Тест проверяет авторизацию когда отсутствует логин или пароль')\n    @pytest.mark.parametrize(\"login,password\", [\n        (None, \"valid_password\"),\n        (\"valid_login\", None),\n        (None, None),\n    ])\n    def test_invalid_create_cour(self, login, password, authorization_cour, create_cour,delete_cour):\n        test_case = f\"login={login}, password={password}\"\n        with allure.step(f\"Тестовый случай: {test_case}\"):\n            with allure.step(\"Создаем курьера\"):\n                _, or_data = create_cour()\n                data = or_data\n                del data[\"firstName\"]\n                # Модифицируем оба поля согласно тестовому случаю\n                data = CreateCourier.invalid_data(data, \"login\", login)\n                data = CreateCourier.invalid_data(data, \"password\", password)\n    \n            with allure.step(\"Отправка запроса и валидация\"):\n                response = authorization_cour(data)\n>               assert response.status_code == 400, f\"Ожидался статус 400, но получили {response.status_code}\"\nE               AssertionError: Ожидался статус 400, но получили 504\nE               assert 504 == 400\nE                +  where 504 = <Response [504]>.status_code\n\ntests\\test_login_courier.py:90: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1760438909140,"stop":1760438909179,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0},{"name":"authorization_cour","time":{"start":1760438928937,"stop":1760438928937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0},{"name":"create_cour","time":{"start":1760438928937,"stop":1760438928937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0},{"name":"delete_cour","time":{"start":1760438928937,"stop":1760438928937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0}],"testStage":{"description":"Тест проверяет авторизацию когда отсутствует логин или пароль","status":"failed","statusMessage":"AssertionError: Ожидался статус 400, но получили 504\nassert 504 == 400\n +  where 504 = <Response [504]>.status_code","statusTrace":"self = <test_login_courier.TestLoginCourier object at 0x000001D650D61D00>, login = 'valid_login', password = None\nauthorization_cour = <function authorization_cour.<locals>.aut_cour at 0x000001D651020540>, create_cour = <function create_cour.<locals>.cre_cour at 0x000001D651020720>\ndelete_cour = <function delete_cour.<locals>.del_cour at 0x000001D651020900>\n\n    @allure.title('Авторизация без обязательных полей')\n    @allure.description('Тест проверяет авторизацию когда отсутствует логин или пароль')\n    @pytest.mark.parametrize(\"login,password\", [\n        (None, \"valid_password\"),\n        (\"valid_login\", None),\n        (None, None),\n    ])\n    def test_invalid_create_cour(self, login, password, authorization_cour, create_cour,delete_cour):\n        test_case = f\"login={login}, password={password}\"\n        with allure.step(f\"Тестовый случай: {test_case}\"):\n            with allure.step(\"Создаем курьера\"):\n                _, or_data = create_cour()\n                data = or_data\n                del data[\"firstName\"]\n                # Модифицируем оба поля согласно тестовому случаю\n                data = CreateCourier.invalid_data(data, \"login\", login)\n                data = CreateCourier.invalid_data(data, \"password\", password)\n    \n            with allure.step(\"Отправка запроса и валидация\"):\n                response = authorization_cour(data)\n>               assert response.status_code == 400, f\"Ожидался статус 400, но получили {response.status_code}\"\nE               AssertionError: Ожидался статус 400, но получили 504\nE               assert 504 == 400\nE                +  where 504 = <Response [504]>.status_code\n\ntests\\test_login_courier.py:90: AssertionError","steps":[{"name":"Тестовый случай: login=valid_login, password=None","time":{"start":1760438928937,"stop":1760438989833,"duration":60896},"status":"failed","statusMessage":"AssertionError: Ожидался статус 400, но получили 504\nassert 504 == 400\n +  where 504 = <Response [504]>.status_code\n","statusTrace":"  File \"C:\\Users\\ilua2\\project\\qa_Sprint_7\\tests\\test_login_courier.py\", line 90, in test_invalid_create_cour\n    assert response.status_code == 400, f\"Ожидался статус 400, но получили {response.status_code}\"\n","steps":[{"name":"Создаем курьера","time":{"start":1760438928937,"stop":1760438929413,"duration":476},"status":"passed","steps":[{"name":"Создаем курьера","time":{"start":1760438928937,"stop":1760438929413,"duration":476},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":1},{"name":"Отправка запроса и валидация","time":{"start":1760438929413,"stop":1760438989831,"duration":60418},"status":"failed","statusMessage":"AssertionError: Ожидался статус 400, но получили 504\nassert 504 == 400\n +  where 504 = <Response [504]>.status_code\n","statusTrace":"  File \"C:\\Users\\ilua2\\project\\qa_Sprint_7\\tests\\test_login_courier.py\", line 90, in test_invalid_create_cour\n    assert response.status_code == 400, f\"Ожидался статус 400, но получили {response.status_code}\"\n","steps":[{"name":"Авторизуем курьера","time":{"start":1760438929413,"stop":1760438989830,"duration":60417},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"attachmentStep":false,"attachmentsCount":0,"stepsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0,"stepsCount":4}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"attachmentStep":false,"attachmentsCount":0,"stepsCount":5},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_login_courier"},{"name":"subSuite","value":"TestLoginCourier"},{"name":"host","value":"Ilya_Volkov"},{"name":"thread","value":"5776-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login_courier"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"login","value":"'valid_login'"},{"name":"password","value":"None"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"6fe5024ad6839ad9.json","parameterValues":["'valid_login'","None"]}